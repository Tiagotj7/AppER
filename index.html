<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Controle de Frequência Escolar</title>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

    <link rel="stylesheet" href="style.css">

    <script src="script.js"></script>

</head>

<body>
    <!-- Login Screen -->
    <div id="login-screen" class="login-container">
        <div class="login-form">
            <div class="login-logo">
                <img src="src/er_logo.svg" alt="Logo E.R." class="logo-image">
            </div>
            <h2>Sistema de Controle de Frequência</h2>
            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" placeholder="Digite seu email" required>
            </div>
            <div class="form-group">
                <label for="password">Senha</label>
                <input type="password" id="password" placeholder="Digite sua senha" required>
            </div>
            <button id="login-btn" class="btn btn-primary btn-block">Entrar</button>
            <div id="loading" class="loading hidden">Carregando...</div>
            <div id="login-error" class="error-message hidden"></div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="app" class="hidden">
        <!-- Header -->
        <header class="header">
            <div class="container header-content">
                <div class="logo">
                    <img src="src/er_logo.svg" alt="Logo E.R." class="nav-logo">
                    <span>Sistema de Frequência</span>
                </div>
                <div class="user-info">
                    <span id="current-user" class="username">Usuário</span>
                    <button id="logout-btn" class="btn btn-logout">Sair</button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <div class="container main-content">
            <div class="tabs">
                <div class="tab active" data-tab="register">Cadastro de Pessoas</div>
                <div class="tab" data-tab="attendance">Registro de Frequência</div>
                <div class="tab" data-tab="history">Histórico</div>
            </div>

            <!-- Register Tab -->
            <div id="register-tab" class="tab-content">
                <h3 class="form-title">Cadastrar Nova Pessoa</h3>
                <form id="register-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="name">Nome Completo</label>
                            <input type="text" id="name" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="birthdate">Data de Nascimento</label>
                            <input type="date" id="birthdate" required>
                        </div>
                        <div class="form-group">
                            <label for="role">Posto</label>
                            <select id="role" required>
                                <option value="">Selecione um posto</option>
                                <option value="escudeiro">Escudeiro</option>
                                <option value="arauto">Arauto</option>
                                <option value="sênior">Sênior</option>
                                <option value="emérito">Emérito</option>
                                <option value="conselheiro">Conselheiro</option>
                            </select>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">Cadastrar</button>
                </form>

                <h3 class="form-title" style="margin-top: 40px;">Pessoas Cadastradas</h3>
                <div class="search-bar">
                    <input type="text" id="search-person" placeholder="Buscar por nome...">
                    <button id="search-btn" class="btn btn-primary">Buscar</button>
                </div>
                <div class="table-container">
                    <table id="people-table">
                        <thead>
                            <tr>
                                <th>Nome</th>
                                <th>Data de Nascimento</th>
                                <th>Posto</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- People will be added here dynamically -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Attendance Tab -->
            <div id="attendance-tab" class="tab-content hidden">
                <h3 class="form-title">Registro de Frequência</h3>
                <div class="calendar">
                    <div class="calendar-header">
                        <div class="calendar-nav">
                            <button id="prev-month" class="btn btn-primary">❮</button>
                            <div id="current-month" class="calendar-month">Maio 2025</div>
                            <button id="next-month" class="btn btn-primary">❯</button>
                        </div>
                    </div>
                    <div class="calendar-grid">
                        <div class="calendar-day-name">Dom</div>
                        <div class="calendar-day-name">Seg</div>
                        <div class="calendar-day-name">Ter</div>
                        <div class="calendar-day-name">Qua</div>
                        <div class="calendar-day-name">Qui</div>
                        <div class="calendar-day-name">Sex</div>
                        <div class="calendar-day-name">Sáb</div>
                        <!-- Calendar days will be added here dynamically -->
                    </div>
                </div>
            </div>

            <!-- History Tab -->
            <div id="history-tab" class="tab-content hidden">
                <h3 class="form-title">Histórico de Frequência</h3>
                <div class="form-group">
                    <label for="person-select">Selecione uma pessoa</label>
                    <select id="person-select" class="form-control">
                        <option value="">Selecione uma pessoa</option>
                        <!-- People will be added here dynamically -->
                    </select>
                </div>
                <div class="table-container">
                    <table id="history-table">
                        <thead>
                            <tr>
                                <th>Data</th>
                                <th>Status</th>
                                <th>Ação</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- History will be added here dynamically -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Attendance Modal -->
    <div id="attendance-modal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modal-title">Registro de Frequência - 20/05/2025</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="attendance-list">
                <!-- Attendance records will be added here dynamically -->
            </div>
            <div style="margin-top: 20px; text-align: right;">
                <button id="save-attendance" class="btn btn-primary">Salvar</button>
            </div>
        </div>
    </div>


</body>

</html>
